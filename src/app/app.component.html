<mat-toolbar class="tool-bar" style="background: linear-gradient(340deg, #0000000d, #da8ebc), /* Prima sfumatura */
  linear-gradient(45deg, #d1717e, #5e45c2 80%); /* Seconda sfumatura */">
  <span class="logo-title">
    <img class="logo-img" src="swagger_icon.png" alt="logo"> Swagger Generator
  </span>
  <span class="spacer"></span>
  <button mat-button class="info" (click)="openDialog()" style="padding: 0; border: none; background: none;">
    <img class="info-img" src="information.png" alt="info" style="cursor: pointer;">
  </button>
</mat-toolbar>

<div class="attenzione">
  <p>Le variabili all'interno dei file saranno tradotte in lingua inglese, mentre le abbreviazioni e gli acronimi verranno espansi nella loro forma completa. Insieme allo Swagger, verranno forniti anche i mapping delle variabili modificate.</p>
</div>

<div class="container" [ngClass]="{ 'container-fixed': files.length === 0, 'container-auto': files.length > 0 }">
  <div class="stylesheet-container">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Sofia">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@40,400,0,0&icon_names=delete" />
  </div>

  <div class="file-input-container">
    <input
      type="file"
      id="fileInput"
      webkitdirectory
      (change)="onFileChange($event)"
      style="display: none;"
    />
    <label for="fileInput" class="file-button">Upload Folder
      <img class="folder-img" src="folder.png" alt="folder">
    </label>
  </div>

  <div class="file-list-container" *ngIf="files.length > 0">
    <h2 style="font-size: 15px">FILE CARICATI</h2>
    <ul>
      <li class="file-item" *ngFor="let file of files">
        {{ file.name }}
        <span class="material-symbols-outlined remove-icon" (click)="removeFile(file)">delete</span>
      </li>
    </ul>
  </div>

  <div class="generate-button-container">
    <button class="genera" *ngIf="files.length > 0" (click)="generateSwagger()" [disabled]="loading">Genera Swagger <img class="ai-img" src="ai.png" alt="ai"></button>
  </div>

  <!-- Messaggio di errore posizionato qui -->
  <div class="error-message-container" *ngIf="errorMessage">
    <p>{{ errorMessage }}</p>
  </div>
  <div class="status-message-container" *ngIf="statusMessage">
    <p style="font-size: large; margin: 5px;">{{ statusMessage }}</p>
  </div>
  <div class="loading-container" *ngIf="loading">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </div>


  <div class="download-container" *ngIf="zipFileBlob">
    <button  class="zip"  (click)="downloadZip()">Download the ZIP</button>
  </div>

</div>



<section class="features-section">
  <div class="feature-box">
    <img src="responsibility.png" alt="Icona">
    <h3>Come utilizzare il generatore</h3>
    <p>Carica la cartella con i tuoi file nell’area qui sopra. I documenti in formato ".java" verranno convertiti in formato ".yaml".</p>
  </div>

  <div class="feature-box">
    <img src="insurance.png" alt="Icona Sicurezza">
    <h3>Non preoccuparti della sicurezza</h3>
    <p>La tua sicurezza è la nostra priorità. Tutti i trasferimenti di file sono protetti e i dati non vengono salvati a processo terminato.</p>
  </div>


  <div class="feature-box">
    <img src="service.png" alt="Icona Qualità">
    <h3>Ottima qualità</h3>
    <p>Provalo tu stesso! Il nostro generatore, alimentato dall'intelligenza artificiale, è progettato per offrirti la massima qualità. </p>
  </div>

</section>
